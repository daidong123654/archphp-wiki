<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<title>数据库操作类exec_sql</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<script language="javascript" type="text/javascript" src="scripts/shCore.js"></script>
<link rel="stylesheet" href="styles/shCoreDjango.css" type="text/css" media="screen" charset="utf-8">
<script src="scripts/shBrushPhp.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
	SyntaxHighlighter.all();
</script>
</head>
<body>

<h1 id="toc_1">exec_sql()</h1>
<ul>
<li>
exec_sql($sql);函数参数是sql语句(支持CURD),查询失败返回false.查询成功返回二维数组结果集(便于foreach);添加,删除,更新返回bool

<li>
Sample Code:
	<pre class="brush:php">
	public function execsql()
	{
		$user=M('user');
	    $re_arr=$user-&gt;db-&gt;exec_sql('SELECT name FROM t_user WHERE 1');
		foreach ($re_arr as $var) {
			echo $var['name'];
		}
	}
	</pre>
	上面的例子获取到了所有的结果集,并遍历输出.

<li>
其实这个查询还可以这么写,建议使用where,避免使用exec_sql:

<li>
$re_arr=$user-&gt;db-&gt;where(1)-&gt;find();

</ul>
<p>
<div align="center"><a href="事务处理.html">上一页</a> <a href="index.html">首页目录</a>  <a href=".html.html">下一页</a></div>
</p>

</body>
</html>
